---
author: josaw1
description: This topic provides information about the threat vulnerability analyzer tool (preview) in Microsoft Dynamics 365 Fraud Protection.
ms.author: josaw
ms.date: 09/20/2021
ms.topic: conceptual
search.app: 
  - Capaedac-fraudprotection
search.audienceType:
  - admin
title: Threat vulnerability analyzer tool (preview)
---


# Threat vulnerability analyzer tool (preview)
[!include [preview banner](includes/preview-banner.md)]

The Dynamics 365 Fraud Protection threat vulnerability analyzer tool (preview) is provided as a preview service under terms and conditions described in the Microsoft Online Service Terms. The threat vulnerability analyzer enables you to analyze account protection session data, investigate threat and fraud attacks at the session level, and make informed operational decisions such as setting the score threshold, segmenting threat traffic, estimating score threshold impact, analyzing abusive traffic pattern, and validating machine learning (ML) score performance. The tool provides intelligence on various dimensions including geolocation, device configuration, IP, and reason code.

The threat vulnerability analyzer is an interactive report tool built on the Microsoft Power BI platform. You can use this tool to analyze threat vulnerability for account protection in your online systems by applying various filters, changing the score threshold, and viewing an analysis of historical trends.

The threat vulnerability analyzer report refreshes every 24 hours with the latest account protection sessions. The time stamp in the report displays the UTC refresh time for the report. The threat vulnerability analyzer retains account login and account creation sessions from the previous four weeks. It is limited to four million login sessions. Reports may show empty results due to insufficient data.

The threat vulnerability analyzer includes the following report tabs:

- **Summary** – This report shows key metrics, distributions, and trends at high level.

- **Hourly Heat Map** – This report shows the hourly distribution of the volume, average bot, and risk score to help identify seasonality and anomalies.

- **Week Over Week** – This report compares the selected date and the remaining dates of the week, to validate whether a weekly pattern holds. This report can help identify trends and fraud patterns.

- **Day Over Day** – This report compares the selected date and the previous six days, to validate if a daily pattern holds. This report can help identify trends and fraud patterns.

- **Location Distribution** – This report shows volume distribution and relative volume for the selected location as compared to total traffic at the country/region, state, or city level.

- **Score Distribution** – This report shows bot and risk score distribution and cumulative percentage. This report helps optimize the score threshold and estimate impact.

- **Reason Code** – This report slices the traffic by bot and risk model reason code to help you understand the most significant factors provided by the model.

- **Status** – This report shows the score distribution by session status and status changes over time. It helps validate the efficacy of the score against the given session status.

- **Label** – This report shows score distribution by label state and label changes over time. It helps validate the efficacy of the score against the given label state. 

- **Device Configuration** – This report shows traffic distribution by device configuration properties such as operating system and browser.

- **IP Deep Dive** – This report provides a deep dive analysis on IP addresses with high volume, and identifies trends fo IP addresses at a selected percentile.

- **Device ID Level** – This report provides a deep dive analysis on a device ID with many shared users, and identifies risky devices at a selected percentile.

- **Session details** – This report allows drill-through from any report to view session details including device and location data. You can apply filters to segment sessions for a deep dive investigation.

## Summary

You can configure the filter and granularity options on the top of the **Summary** page. 

The summary report shows high-level metrics such as volume, percentage of no geolocation, average bot score, and average risk score.

Charts that are available on the summary report include:

- **Volume by location** – This chart shows volume in a map layout.

- **Top 10 volume location by bot score and risk score category** – This chart is based on the selected location granularity option.

- **Volume, average bot, and risk score by period** – This chart shows a time series of the key metrics based on the selected date granularity.

- **Volume for not approved by period** – This chart shows the volume of transactions with approved, rejected, and pending status, based on the selected date granularity.

- **Volume for label state by period** – This chart shows the volume of transactions with various labels per period, based on the selected date granularity. 

## Hourly heat map

The **Hourly heat map** report shows the hourly high-level metrics and distribution of the volume, average bot, and average risk score to help you identify seasonality and anomalies. For example, an unusual volume spike or high score at 1:00 AM may indicate a fraud attack. 

Charts that are available on the hourly heat map include:

- **Volume by day of week/hour of day** – This chart shows the volume at each hour of every day of the week. The higher the volume, the darker the color shade is for the given hour of a day in a week.

- **Average bot score by day of week/hour of day** – This chart shows the average bot score at each hour of every day of the week. The higher the bot score, the darker the color shade is for the given hour of day in a week.

- **Average risk score by day of week/hour of day** – This chart shows the average risk score at each hour of every day of the week. The higher the risk score, the darker the color shade is for the given hour of day in a week.

## Week over week

The **Week over week** report provides a comparison of the selected date and the remaining days of that week with previous weeks. You can use this report to validate whether a weekly pattern holds, and to identify trends and fraud patterns. For example, if a certain day of the week has an unusually high volume or high score as compared to prior weeks, it may indicate a potential threat attack.

Charts that are available on the week over week report include:

- **Hourly volume by day of week** – This chart shows the hourly volume on the selected date and compares it to the volume on the same day of the week for prior weeks. Up to four prior weeks can be displayed.

- **Hourly average bot score by day of week** – This chart shows the hourly average bot score on the selected date and compares it to the score on the same day of the week for prior weeks. Up to four prior weeks can be displayed.

- **Hourly average risk score by day of week** – This chart shows the hourly average risk score on the selected date and compares it to the score on the same day of the week for prior weeks. Up to four prior weeks can be displayed.

## Day over day

The **Day over day** report provides a comparison between the selected date and the previous six days. You can use this report to validate whether a daily pattern holds and to identify trends and fraud patterns. For example, if a certain day has an unusually high volume or high score as compared to prior days, it may indicate a potential threat attack.

Charts that are available on the day over day report include:

- **Hourly volume by day** – This chart shows the hourly volume on the selected date and compares it to the volume on the previous six days.

- **Hourly average bot score by day** – This chart shows the hourly average bot score on the selected day and compares it to the average score on the previous six days.

- **Hourly average risk score by day of week** – This chart shows the hourly average risk score on the selected day and compares it to the average score on the previous six days.

## Location distribution

The **Location distribution** report shows the volume distribution and relative volume on a selected location and compares it to the total traffic at the country/region, state, or city level. For example, a sudden increase of volume from a certain location may indicate a potential attack. Location distribution also displays high-level metrics such as total volume and populate rate.

Charts that are available on the location distribution report include:

- **Top 10 country/region volume distribution and populate rate** – This chart shows the top ten countries/regions with highest volume distribution and populate rate change over time.

- **Top 10 state volume distribution** – This chart shows the top ten states/provinces with highest volume distribution over time.

- **Top 10 location volume % of total traffic** – This chart shows the top ten locations based on selected granularity (city, state/province, or country/region) with the highest volume percentage of total traffic over time.

- **Top 10 location volume** – This chart shows the top ten locations based on selected granularity (city, state/province, or country/region) with the highest volume over time.


## Score distribution

The **Score distribution** report shows the bot and risk score distribution and cumulative percentage, to help you optimize the score threshold and estimate impact. For example, at a specific score bin you can infer from the cumulative percentage chart what the percentage of total traffic that may be rejected will be when the score threshold is applied. The transaction period volume by bot and risk score bin helps you identify trends and anomalies on the score.

Charts that are available on the score distribution report include:

- **Volume and cumulative percentage by bot score bin** – This chart shows the volume and cumulative percentage by bot score bin, including special scores defined in the [appendix](threat-vulnerability-analyzer.md#appendix).

- **Volume and cumulative percentage by risk score bin** – This chart shows the volume and cumulative percentage by risk score bin, including special scores defined in the [appendix](threat-vulnerability-analyzer.md#appendix).

- **Transaction period volume by bot score bin** – This chart shows the volume distribution by bot score bin over time, based on the selected date granularity.

- **Transaction period volume by risk score bin** – This chart shows the volume distribution by risk score bin over time, based on the selected date granularity.

- **Table of transaction period** – This table shows the volume, average bot score, and average risk score, based on the selected date granularity.


## Reason code

The **Reason code** report slices the traffic by the bot and risk model reason code, and helps you understand the most significant factors provided by the model. You can  identify the reason codes that have the most volume, and the score distribution for a specific reason code.

Charts that are available on the reason code report include:

- **Volume by bot score bin and reason code** – This chart shows the top reason code provided by the bot model. The chart also shows the score bin distribution, and you can use filters to deep dive on the bot score reason codes.

- **Volume by risk score bin and reason code** – This chart shows the top reason code provided by the risk model. The chart also displays the score bin distribution, and you can use filters to deep dive on the risk score reason codes.

- **Volume percentage by bot score bin and reason code** – This chart shows the volume percentage for bot reason codes.

- **Volume percentage by risk score bin and reason code** – This chart shows the volume percentage for risk reason codes.


## Status

The **Status** report shows score distribution by session status and status changes over time. You can use the report to validate the efficacy of the score against the given session status. For example, if sessions with a high risk score have more rejected transactions than sessions with a low risk score, you can infer that the risk model is effective in identifying suspicious sessions.

Charts that are available on the status report include:

- **Status distribution**– This is a table of statuses and the volume per status, average bot score, and average risk score.

- **Status distribution & average score by period** – This chart shows the changes to average bot and risk score over time for approved or rejected sessions, based on the selected date granularity.

- **Status rate by period** – This chart shows the percentage of each status over time, based on the selected date granularity.

- **Bot score cumulative & status** – This chart shows the volume and cumulative percentage for each status by bot score bin.

- **Risk score cumulative & status** – This chart shows the volume and cumulative percentage for each status by risk score bin.

- **Transaction period volume by bot score bin** – This chart shows the volume distribution by bot score bin for each transaction period and status.

- **Transaction period volume by risk score bin** – This chart shows the volume distribution by risk score bin for each transaction period and status.


## Label

The **Label** report shows the score distribution by session status and status changes over time. You can use the report to validate the efficacy of the score against the given the label state. For example, if sessions with a high risk score have more transactions that are identified as fraud than sessions with low risk score, you can infer that the risk model is effective in identifying fraudulent sessions.

Charts that are available on the label report include:

- **Status distribution** – This is a table that includes label states and their volume, average bot score, and average risk score.

- **Status distribution & average score by period** – This chart shows the changes to average bot and risk score over time for fraudulent or non-fraudulent sessions, based on selected date granularity.

- **Status rate by period** – This chart shows the percentage of each label state over time, based on selected date granularity.

- **Bot score cumulative & status** – This chart shows the volume and cumulative percentage for each label state by bot score bin.

- **Risk score cumulative & status** – This chart shows the volume and cumulative percentage for each label state by risk score bin.

- **Transaction period volume by bot score bin** – This chart shows the volume distribution by bot score bin for each transaction period and label state.

- **Transaction period volume by risk score bin** – This chart shows the volume distribution by risk score bin for each transaction period and label state.


## Device configuration

The **Device configuration** report shows the traffic distribution by device configuration properties, such as operating system and browser. The report provides insights on trends or anomalies in cases where there are unusual changes in traffic percentages for specific operating system families or browser families.

Charts that are available on the device configuration report include:

- **Operating system family populated rate and volume distribution** – This chart shows the populate rate and distribution changes over time for an operating system family, based on selected date granularity.

- **Operating system populated rate and volume distribution** – This chart shows the populate rate and distribution changes over time for an operating system, based on selected date granularity.

- **Browser family populated rate and volume distribution** – This chart shows the populate rate and distribution changes over time for a browser family, based on selected date granularity.


## IP deep dive

The **IP deep dive** report provides a deep dive analysis on IP addresses with high volumes, and helps you understand trends involving IP addresses at a selected percentile. The report provides a list of IP addresses that have a high volume, and shows volume per IP over time to identify potential attacks.

Charts that are available on IP deep dive include:

- **Top 20 volume IP addresses by location and average bot and risk score** – This chart shows a plot of the top 20 IP addresses by average bot and risk score. The bigger the size of the bubble, the bigger the volume is.

- **Volume by location** – This is a world map showing traffic origin. The darker the shade, the more volume from that area.

- **List of IP addresses** – This chart shows the volume and distinct user count for each IP address.

- **Volume per IP address at selected percentile** – This chart shows the number of sessions per IP address above the selected percentile over time.

- **Percentile of volume per IP address** – This chart shows the number of sessions per IP address at each given percentile.


## Device ID level

The **Device ID level** report provides a deep dive analysis on device IDs with many shared users, and identifies risky devices at a selected percentile. The report provides a list of device IDs that have a high distinct user count, and shows the distinct user count per device ID by percentile to identify potential attacks.

Charts that are available on device ID level include:

- **List of Device ID** – This chart shows the distinct user count for each Device ID.

- **Distinct user count per Device ID by percentile**.


## Session Details

The **Session details** report enables drill-through from any report to view session details, including device and location data. You can apply filters to segment sessions for your deep dive investigations.

Charts that are available on session details include:

- **Volume by location** – This chart shows session volume in a world map layout.

- **Volume, average bot, and risk scores by date**.

- **List of sessions** – This chart shows the list of sessions and the associated detailed metadata providing the time, location, IP address, user account, device configuration, network configuration, bot score, and risk score, status, and reason.

## Appendix

### Score Definition

- **-10**: Session not covered by model.

- **-9**: Device attributes are invalid.

- **-1**: Internal exceptions.

- **0**: Score range from 0 to 99.

- **999**: Suspicious user agent found, missing device information, geo lookup failure, or the highest model score.

### Report Filters and Options

- **Event type**: Account creation or account login.

- **Challenge type**: Input from status API.

- **Reason type**: Input from status API.

- **Date granularity**: Daily, weekly, or monthly.

- **Location granularity**: City, State/Province, Country/Region.

- **Country/Region, State/Province, City**.

- **Status**.

- **Label state**.

- **Date range**. Adjust the slider or date picker to set the date range.

- **Bot score**: -10 to 999.

- **Risk score**: -10 to 999.

-   Risk score: -10 to 999

### Hidden filter pane

-   ASN

-   Bot reason code

-   Browser family

-   Browser language

-   Browser user agent

-   Browser version

-   Email domain

-   IP address

-   Network hop count

-   Operating system

-   Operating system family

-   Risk reason code
